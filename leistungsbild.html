<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anfrage</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #fff;
      color: #002f6c;
      margin: 0;
      padding: 20px;
      max-width: 300px;
      margin-left: auto;
      margin-right: auto;
    }

    .back {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 1.5rem;
      color: #002f6c;
      cursor: pointer;
      z-index: 999;
    }

    h1 {
      font-size: 1.5rem;
      margin: 60px 0 20px;
      text-align: center;
    }

    .question {
      margin-bottom: 20px;
    }

    .question h2 {
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .question button {
      display: block;
      width: 100%;
      margin-bottom: 8px;
      padding: 10px;
      font-size: 1rem;
      background: none;
      border: 1px solid #002f6c;
      color: #002f6c;
      cursor: pointer;
    }

    .question button:hover {
      background: #f0f4f8;
    }

    .hidden {
      display: none;
    }

    .summary {
      margin-top: 30px;
    }

    .summary p {
      font-size: 0.9rem;
      margin: 8px 0;
    }

    .submit-btn {
      margin-top: 20px;
      display: inline-block;
      background: #002f6c;
      color: white;
      padding: 12px;
      text-align: center;
      text-decoration: none;
      font-weight: 600;
    }

    footer {
      margin-top: 60px;
      text-align: center;
      font-size: 0.8rem;
      color: #777;
    }

    footer a {
      color: #777;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <div class="back" onclick="window.location.href='index.html'">&larr;</div>

  <h1>Anfrage</h1>

  <div id="fragenbereich">
    <div class="question" id="frage1">
      <h2>Was möchtest du tun?</h2>
      <button onclick="antwort('frage1','Bauen')">Bauen</button>
      <button onclick="antwort('frage1','Umbauen')">Umbauen</button>
      <button onclick="antwort('frage1','Renovieren')">Renovieren</button>
      <button onclick="antwort('frage1','Beraten lassen')">Beraten lassen</button>
    </div>

    <div class="question hidden" id="frage2">
      <h2>Wie weit bist du?</h2>
      <button onclick="antwort('frage2','Am Anfang')">Am Anfang</button>
      <button onclick="antwort('frage2','Idee vorhanden')">Idee vorhanden</button>
      <button onclick="antwort('frage2','Schon weit')">Schon weit</button>
    </div>

    <div class="question hidden" id="frage3">
      <h2>Wie groß ist das Projekt?</h2>
      <button onclick="antwort('frage3','< 100 m²')">&lt; 100 m²</button>
      <button onclick="antwort('frage3','100–200 m²')">100–200 m²</button>
      <button onclick="antwort('frage3','> 200 m²')">&gt; 200 m²</button>
      <button onclick="antwort('frage3','Unklar')">Unklar</button>
    </div>

    <div class="question hidden" id="frage4">
      <h2>Wann soll es losgehen?</h2>
      <button onclick="antwort('frage4','Sofort')">Sofort</button>
      <button onclick="antwort('frage4','In 1–3 Monaten')">In 1–3 Monaten</button>
      <button onclick="antwort('frage4','In 3–6 Monaten')">In 3–6 Monaten</button>
      <button onclick="antwort('frage4','Später')">Später</button>
    </div>
  </div>

  <div id="zusammenfassung" class="summary hidden">
    <h2>Zusammenfassung</h2>
    <p id="z1"></p>
    <p id="z2"></p>
    <p id="z3"></p>
    <p id="z4"></p>
    <a id="mailto" class="submit-btn" href="#">Anfrage senden</a>
  </div>

  <footer>
    <a href="impressum.html">Impressum</a> · © ebbe&flut
  </footer>

  <script>
    const antworten = {};

    function antwort(frageId, wert) {
      antworten[frageId] = wert;

      // aktuelle Frage ausblenden
      document.getElementById(frageId).classList.add('hidden');

      // nächste anzeigen
      if (frageId === 'frage1') {
        document.getElementById('frage2').classList.remove('hidden');
      } else if (frageId === 'frage2') {
        document.getElementById('frage3').classList.remove('hidden');
      } else if (frageId === 'frage3') {
        document.getElementById('frage4').classList.remove('hidden');
      } else if (frageId === 'frage4') {
        zeigeZusammenfassung();
      }
    }

    function zeigeZusammenfassung() {
      document.getElementById('z1').innerText = "Projekt: " + antworten['frage1'];
      document.getElementById('z2').innerText = "Stand: " + antworten['frage2'];
      document.getElementById('z3').innerText = "Größe: " + antworten['frage3'];
      document.getElementById('z4').innerText = "Start: " + antworten['frage4'];

      const body = encodeURIComponent(
        `Projekt: ${antworten['frage1']}\nStand: ${antworten['frage2']}\nGröße: ${antworten['frage3']}\nStart: ${antworten['frage4']}\n\nBitte senden Sie mir ein Angebot.`
      );

      const mail = "mailto:ebbeundflutarchitektur@gmail.com?subject=Anfrage&body=" + body;
      document.getElementById('mailto').href = mail;

      document.getElementById('zusammenfassung').classList.remove('hidden');
    }
  </script>
</body>
</html>
